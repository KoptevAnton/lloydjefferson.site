{"version":3,"file":"commonHelpers.js","sources":["../src/js/elements.js","../src/js/projects.js","../src/js/reviews.js","../src/js/covers.js"],"sourcesContent":["// projects\nconst prevButtonEl = document.querySelector('.projects__button--prev-js');\nconst nextButtonEl = document.querySelector('.projects__button--next-js');\n// reviews\nconst listEl = document.querySelector('.reviews-swiper-wrapper');\nconst revBtnPrevEl = document.querySelector('.reviews-prev-btn');\nconst revBtnNextEl = document.querySelector('.reviews-next-btn');\n// covers\nconst coversSection = document.querySelector('#covers');\nconst coversBackground = document.querySelector('.covers-background');\nconst coversWrapper = document.querySelector('.covers-wrapper');\n\nexport { \n    prevButtonEl, \n    nextButtonEl, \n    listEl, \n    revBtnPrevEl, \n    revBtnNextEl,\n    coversSection,\n    coversBackground,\n    coversWrapper,\n};\n\n","import Swiper from 'swiper';\nimport { Navigation, Keyboard } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport {prevButtonEl, nextButtonEl} from './elements.js'\n\nSwiper.use([Navigation, Keyboard]);\nnew Swiper('.projects__swiper-container', {\n  keyboard: {\n    enabled: true,\n    onlyInViewport: false,\n  },\n  direction: 'horizontal',\n  slidesPerView: 1,\n  spaceBetween: 280,\n  navigation: {\n    nextEl: nextButtonEl,\n    prevEl: prevButtonEl,\n  },\n});\n","import Swiper from 'swiper';\nimport { Navigation, Keyboard } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport axios from 'axios';\n\nimport { listEl, revBtnPrevEl, revBtnNextEl } from './elements.js';\n\nasync function getReviewsData() {\n  try {\n    const response = await axios.get(\n      'https://portfolio-js.b.goit.study/api/reviews'\n    );\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n}\n\nasync function renderReviews() {\n  try {\n    const reviewsData = await getReviewsData();\n    if (!reviewsData) {\n      listEl.innerHTML = '<li>Not Found</li>';\n      return;\n    }\n    const reviewsList = reviewsData\n      .map(\n        review => `\n        \n      <li class=\"swiper-slide reviews-swiper-slide\">\n          <img src=\"${review.avatar_url}\" \n          loading=\"lazy\" alt=\"${review.author}\" \n          class=\"reviews-img\" \n          width=\"48\" height=\"48\">\n          <div class = \"reviews-desc\">\n          <h3 class=\"reviews-item-subtitle\">${review.author}</h3>\n        <div class=\"reviews-text\">${review.review}</div>\n        </div>\n      </li>\n    `\n      )\n      .join('');\n    listEl.innerHTML = reviewsList;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nasync function initSwiper() {\n  await renderReviews();\n\n  const swiper = new Swiper('.reviews-section .swiper-reviews', {\n    modules: [Navigation, Keyboard],\n    // direction: 'horizontal',\n    spaceBetween: 16,\n    pageUpDown: true,\n    mousewheel: true,\n    navigation: {\n      prevEl: revBtnPrevEl ? revBtnPrevEl : undefined,\n      nextEl: revBtnNextEl ? revBtnNextEl : undefined,\n    },\n    allowTouchMove: true,\n    breakpoints: {\n      320: {\n        slidesPerView: 1,\n      },\n      768: {\n        slidesPerView: 2,\n      },\n      1440: {\n        slidesPerView: 4,\n      },\n    },\n    keyboard: {\n      enabled: true,\n      onlyInViewport: true,\n    },\n  });\n}\n\ninitSwiper();\n","import * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\nimport { coversSection, coversBackground, coversWrapper } from './elements.js';\n\ncoversWrapper.addEventListener('click', showImage);\n\nfunction animateCovers(entries) {\n  entries.forEach(entry => {\n    if (entry.isIntersecting) {\n      coversBackground.classList.add('animated');\n      coversWrapper.classList.add('animated');\n    } else {\n      coversBackground.classList.remove('animated');\n      coversWrapper.classList.remove('animated');\n    }\n  });\n}\n\nconst observer = new IntersectionObserver(animateCovers, {\n  root: null,\n  threshold: 0,\n});\n\nobserver.observe(coversSection);\n\nfunction showImage(event) {\n  event.preventDefault();\n\n  if (event.target.nodeName !== 'IMG') {\n    return;\n  }\n\n  const image = event.target.currentSrc;\n  const instance = basicLightbox.create(\n    `<img\n      src=\"${image}\"\n      alt=\"${event.target.alt}\"\n      class=\"covers-full-image\"\n    />`,\n    {\n      onShow: instance => {\n        window.addEventListener('keydown', closeOnEscape);\n      },\n      onClose: instance => {\n        window.removeEventListener('keydown', closeOnEscape);\n      },\n    }\n  );\n\n  instance.show();\n\n  function closeOnEscape(event) {\n    if (event.code === 'Escape') {\n      instance.close();\n    }\n  }\n}\n"],"names":["prevButtonEl","nextButtonEl","listEl","revBtnPrevEl","revBtnNextEl","coversSection","coversBackground","coversWrapper","Swiper","Navigation","Keyboard","getReviewsData","axios","error","renderReviews","reviewsData","reviewsList","review","initSwiper","showImage","animateCovers","entries","entry","observer","event","image","instance","basicLightbox.create","closeOnEscape"],"mappings":"kxBACA,MAAMA,EAAe,SAAS,cAAc,4BAA4B,EAClEC,EAAe,SAAS,cAAc,4BAA4B,EAElEC,EAAS,SAAS,cAAc,yBAAyB,EACzDC,EAAe,SAAS,cAAc,mBAAmB,EACzDC,EAAe,SAAS,cAAc,mBAAmB,EAEzDC,EAAgB,SAAS,cAAc,SAAS,EAChDC,EAAmB,SAAS,cAAc,oBAAoB,EAC9DC,EAAgB,SAAS,cAAc,iBAAiB,ECJ9DC,EAAO,IAAI,CAACC,EAAYC,CAAQ,CAAC,EACjC,IAAIF,EAAO,8BAA+B,CACxC,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,EACD,UAAW,aACX,cAAe,EACf,aAAc,IACd,WAAY,CACV,OAAQP,EACR,OAAQD,CACT,CACH,CAAC,ECXD,eAAeW,GAAiB,CAC9B,GAAI,CAIF,OAHiB,MAAMC,EAAM,IAC3B,+CACN,GACoB,IACjB,OAAQC,EAAO,CACd,eAAQ,MAAMA,CAAK,EACZ,IACR,CACH,CAEA,eAAeC,GAAgB,CAC7B,GAAI,CACF,MAAMC,EAAc,MAAMJ,IAC1B,GAAI,CAACI,EAAa,CAChBb,EAAO,UAAY,qBACnB,MACD,CACD,MAAMc,EAAcD,EACjB,IACCE,GAAU;AAAA;AAAA;AAAA,sBAGIA,EAAO,UAAU;AAAA,gCACPA,EAAO,MAAM;AAAA;AAAA;AAAA;AAAA,8CAICA,EAAO,MAAM;AAAA,oCACvBA,EAAO,MAAM;AAAA;AAAA;AAAA,KAI1C,EACA,KAAK,EAAE,EACVf,EAAO,UAAYc,CACpB,OAAQH,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,CACH,CAEA,eAAeK,GAAa,CAC1B,MAAMJ,EAAa,EAEJ,IAAIN,EAAO,mCAAoC,CAC5D,QAAS,CAACC,EAAYC,CAAQ,EAE9B,aAAc,GACd,WAAY,GACZ,WAAY,GACZ,WAAY,CACV,OAAQP,GAA8B,OACtC,OAAQC,GAA8B,MACvC,EACD,eAAgB,GAChB,YAAa,CACX,IAAK,CACH,cAAe,CAChB,EACD,IAAK,CACH,cAAe,CAChB,EACD,KAAM,CACJ,cAAe,CAChB,CACF,EACD,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,CACL,CAAG,CACH,CAEAc,EAAY,EC7EZX,EAAc,iBAAiB,QAASY,CAAS,EAEjD,SAASC,EAAcC,EAAS,CAC9BA,EAAQ,QAAQC,GAAS,CACnBA,EAAM,gBACRhB,EAAiB,UAAU,IAAI,UAAU,EACzCC,EAAc,UAAU,IAAI,UAAU,IAEtCD,EAAiB,UAAU,OAAO,UAAU,EAC5CC,EAAc,UAAU,OAAO,UAAU,EAE/C,CAAG,CACH,CAEA,MAAMgB,EAAW,IAAI,qBAAqBH,EAAe,CACvD,KAAM,KACN,UAAW,CACb,CAAC,EAEDG,EAAS,QAAQlB,CAAa,EAE9B,SAASc,EAAUK,EAAO,CAGxB,GAFAA,EAAM,eAAc,EAEhBA,EAAM,OAAO,WAAa,MAC5B,OAGF,MAAMC,EAAQD,EAAM,OAAO,WACrBE,EAAWC,EAAoB,OACnC;AAAA,aACSF,CAAK;AAAA,aACLD,EAAM,OAAO,GAAG;AAAA;AAAA,QAGzB,CACE,OAAQE,GAAY,CAClB,OAAO,iBAAiB,UAAWE,CAAa,CACjD,EACD,QAASF,GAAY,CACnB,OAAO,oBAAoB,UAAWE,CAAa,CACpD,CACF,CACL,EAEEF,EAAS,KAAI,EAEb,SAASE,EAAcJ,EAAO,CACxBA,EAAM,OAAS,UACjBE,EAAS,MAAK,CAEjB,CACH"}